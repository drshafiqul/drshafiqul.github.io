<h2 id="featured-papers">Featured Research Papers</h2>

<div class="swiper featured-papers-carousel">
  <div class="swiper-wrapper">
    {% for post in site.publications %}
      {% if post.cover_image %}
        <div class="swiper-slide">
          <a href="{{ post.url | relative_url }}">
            <img src="{{ post.cover_image | relative_url }}" alt="{{ post.title }}">
            <div class="swiper-slide-caption">{{ post.short_title }}</div>
          </a>
        </div>
      {% endif %}
    {% endfor %}
  </div>
  <div class="swiper-pagination"></div>

  <div class="swiper-button-prev"></div>
  <div class="swiper-button-next"></div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const swiper = new Swiper('.featured-papers-carousel', {
      // Optional parameters
      loop: true,
      slidesPerView: 1,
      spaceBetween: 30,
      breakpoints: {
        // when window width is >= 640px
        640: {
          slidesPerView: 2,
          spaceBetween: 20
        },
        // when window width is >= 960px
        960: {
          slidesPerView: 3,
          spaceBetween: 30
        }
      },

      // If we need pagination
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },

      // Navigation arrows
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
    });
  });
</script>